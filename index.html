<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>1 Coast Media — Premium Digital, Media & Event Services</title>
  <meta name="description" content="Premium Web & App, Video/Audio Production, Event Planning, and UGC Campaigns for Mississippi Gulf Coast creators and brands. Transparent pricing. Fast turnarounds. Results-driven."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    .glass { backdrop-filter: saturate(160%) blur(14px); background: rgba(255,255,255,.07); }
    .shine { position: relative; overflow: hidden; }
    .shine:before { content: ""; position: absolute; inset: -200% -50%; background: linear-gradient(105deg, transparent 45%, rgba(255,255,255,.18) 50%, transparent 55%); transform: translateX(-100%); animation: shine 6s linear infinite; }
    @keyframes shine { to { transform: translateX(100%); } }
    @keyframes float { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
    html::-webkit-scrollbar{height:10px;width:10px}
    html::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#60a5fa,#8b5cf6);border-radius:9999px}
    .tooltip[data-tip]:hover:after{content:attr(data-tip); position:absolute; white-space:nowrap; transform:translateY(-110%); background:rgba(15,23,42,.95); color:white; font-size:11px; padding:.35rem .5rem; border-radius:.5rem; border:1px solid rgba(255,255,255,.15)}
  </style>
</head>
<body class="bg-slate-950 text-slate-100">
  <!-- Decorative gradient + animated orbs -->
  <div aria-hidden class="pointer-events-none fixed inset-0 -z-10">
    <div class="absolute -top-40 -left-24 h-[28rem] w-[48rem] rounded-full bg-blue-600/40 blur-3xl animate-pulse"></div>
    <div class="absolute top-20 -right-24 h-[28rem] w-[48rem] rounded-full bg-fuchsia-600/30 blur-3xl animate-[float_10s_ease-in-out_infinite]"></div>
  </div>

  <!-- NAV -->
  <header x-data="{open:false}" class="sticky top-0 z-50">
    <div class="glass border-b border-white/10">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
        <a href="#top" class="inline-flex items-center gap-2">
          <span class="inline-grid place-items-center h-9 w-9 rounded-xl bg-white/10 ring-1 ring-white/20">
            <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2l3 6 6 .9-4.5 4.4 1 6.3L12 17l-5.5 2.6 1-6.3L3 8.9 9 8z"/></svg>
          </span>
          <span class="font-extrabold tracking-tight">1 Coast Media</span>
        </a>
        <nav class="hidden md:flex items-center gap-8 text-sm">
          <a href="#services" class="hover:text-white/90 text-white/70">Services</a>
          <a href="#pricing" class="hover:text-white/90 text-white/70">Pricing</a>
          <a href="#notes" class="hover:text-white/90 text-white/70">How it works</a>
          <a href="#contact" class="hover:text-white/90 text-white/70">Contact</a>
          <a href="https://calendly.com/bdaniels013/30min" target="_blank" rel="noopener" class="inline-flex items-center gap-2 rounded-xl bg-white text-slate-900 px-3 py-2 font-semibold shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition">Book on Calendly</a>
        </nav>
        <button @click="open=!open" class="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-lg bg-white/10">
          <svg x-show="!open" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="h-6 w-6"><path stroke-width="1.5" d="M4 7h16M4 12h16M4 17h16"/></svg>
          <svg x-show="open" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="h-6 w-6"><path stroke-width="1.5" d="M6 6l12 12M6 18L18 6"/></svg>
        </button>
      </div>
    </div>
    <div x-show="open" x-transition class="md:hidden glass border-b border-white/10">
      <div class="mx-auto max-w-7xl px-4 pb-4 flex flex-col gap-3 text-sm">
        <a @click="open=false" href="#services" class="py-2">Services</a>
        <a @click="open=false" href="#pricing" class="py-2">Pricing</a>
        <a @click="open=false" href="#notes" class="py-2">How it works</a>
        <a @click="open=false" href="#contact" class="py-2">Contact</a>
        <a @click="open=false" href="https://calendly.com/bdaniels013/30min" target="_blank" rel="noopener" class="py-2">Book on Calendly</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section id="top" class="relative">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-20">
      <div class="grid lg:grid-cols-2 gap-10 items-center">
        <div>
          <h1 class="text-4xl sm:text-5xl font-black leading-tight">Premium Digital, Media, and Event Services for <span class="bg-gradient-to-r from-white via-blue-200 to-blue-500 bg-clip-text text-transparent">Gulf Coast</span> Creators & Brands</h1>
          <p class="mt-6 text-white/80 max-w-prose">Sleek digital hubs that convert, captivating videos that tell your story, flawless events that create lasting connections, and authentic UGC campaigns that spark organic buzz. Transparent pricing. Fast turnarounds. Results‑driven. Serving the Mississippi Gulf Coast.</p>
          <div class="mt-8 flex flex-wrap gap-3">
            <a href="#pricing" class="inline-flex items-center gap-2 rounded-xl bg-white text-slate-900 px-4 py-3 font-semibold shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition">View Pricing</a>
            <a href="https://calendly.com/bdaniels013/30min" target="_blank" rel="noopener" class="inline-flex items-center gap-2 rounded-xl ring-1 ring-white/20 px-4 py-3 font-semibold hover:bg-white/10 transition">Book a Free Consult</a>
          </div>
          <div class="mt-6 text-xs text-white/60">Mix & match across packages to build your perfect strategy.</div>
        </div>
        <div class="relative">
          <div class="aspect-video rounded-2xl bg-gradient-to-br from-white/10 to-white/5 ring-1 ring-white/10 p-2 shine">
            <div class="w-full h-full rounded-xl bg-slate-900/40 grid place-items-center text-center p-8">
              <p class="text-sm text-white/70">Premium UI: animated gradients, glass cards, smooth micro‑interactions.</p>
              <p class="mt-2 text-xs text-white/50">Stripe Checkout enabled below for one‑time & subscriptions.</p>
            </div>
          </div>
          <div class="absolute -bottom-6 -right-6 hidden md:block">
            <div class="rounded-2xl bg-white/10 ring-1 ring-white/20 px-4 py-3 text-xs">Transparent pricing • Modular add‑ons • One‑time or monthly</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- BADGES / TRUST -->
  <section aria-label="Highlights" class="py-6">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
        <div class="rounded-xl ring-1 ring-white/10 bg-white/5 p-3 text-center text-xs">Fast turnarounds</div>
        <div class="rounded-xl ring-1 ring-white/10 bg-white/5 p-3 text-center text-xs">Results‑driven</div>
        <div class="rounded-xl ring-1 ring-white/10 bg-white/5 p-3 text-center text-xs">Transparent pricing</div>
        <div class="rounded-xl ring-1 ring-white/10 bg-white/5 p-3 text-center text-xs">Local Gulf Coast focus</div>
      </div>
    </div>
  </section>

  <!-- SERVICES OVERVIEW -->
  <section id="services" class="py-20">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-extrabold tracking-tight">What we do</h2>
      <p class="mt-3 text-white/70 max-w-3xl">Start with affordable bases for quick wins, then customize with modular add‑ons to fit your goals. One‑time options deliver immediate impact; monthly retainers ensure sustained growth.</p>

      <div class="mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-4">
        <article class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6 hover:ring-white/20 transition"><h3 class="font-bold">1) Web & App Development</h3><p class="mt-2 text-sm text-white/70">Responsive, intuitive sites and tools that engage and convert.</p><ul class="mt-4 space-y-2 text-sm text-white/80 list-disc list-inside"><li>One‑time base: $300</li><li>Monthly base: $500/mo</li><li>Add‑ons: SEO, automations, APIs, e‑commerce</li></ul></article>
        <article class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6 hover:ring-white/20 transition"><h3 class="font-bold">2) Video & Audio Production</h3><p class="mt-2 text-sm text-white/70">Music videos, commercials, and social reels with coastal flair.</p><ul class="mt-4 space-y-2 text-sm text-white/80 list-disc list-inside"><li>One‑time base: $600</li><li>Monthly base: $1,200/mo</li><li>Add‑ons: audio mix, advanced edits, drone, series</li></ul></article>
        <article class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6 hover:ring-white/20 transition"><h3 class="font-bold">3) Event Planning & Coordination</h3><p class="mt-2 text-sm text-white/70">Seamless logistics and local vendors for unforgettable events.</p><ul class="mt-4 space-y-2 text-sm text-white/80 list-disc list-inside"><li>One‑time base: $1,000</li><li>Monthly base: $1,200/mo</li><li>Add‑ons: full coordination, media, hybrid/virtual</li></ul></article>
        <article class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6 hover:ring-white/20 transition"><h3 class="font-bold">4) UGC & Local Clipping Campaigns</h3><p class="mt-2 text-sm text-white/70">Authentic content by local creators that builds trust and reach.</p><ul class="mt-4 space-y-2 text-sm text-white/80 list-disc list-inside"><li>One‑time base: $450</li><li>Monthly base: $600/mo</li><li>Add‑ons: repurpose, lead gen, captions, branding</li></ul></article>
      </div>
    </div>
  </section>

  <!-- PRICING / CONFIGURATOR + CHECKOUT (ENHANCED UI) -->
  <section id="pricing" class="py-20">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-6">
        <div>
          <h2 class="text-3xl font-extrabold tracking-tight">Build your package</h2>
          <p class="mt-2 text-white/70 max-w-prose">Select one or more services, pick one‑time or monthly for all, then add upgrades per service. Live totals, quick bundles, and a clean breakdown make checkout effortless.</p>
        </div>
        <div class="flex gap-3">
          <a href="#contact" class="inline-flex items-center gap-2 rounded-xl bg-white text-slate-900 px-4 py-3 font-semibold shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition self-start">Lock in my quote</a>
          <a href="https://calendly.com/bdaniels013/30min" target="_blank" rel="noopener" class="inline-flex items-center gap-2 rounded-xl ring-1 ring-white/20 px-4 py-3 font-semibold hover:bg-white/10 transition self-start">Schedule a Call</a>
        </div>
      </div>

      <div x-data="pricing()" x-init="init()" class="mt-10 grid lg:grid-cols-3 gap-8">
        <!-- Left: Controls -->
        <div class="lg:col-span-2 space-y-6">
          <!-- Include Services Chips -->
          <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-4">
            <div class="flex items-center justify-between gap-3 flex-wrap">
              <div>
                <h3 class="font-semibold">Include services</h3>
                <p class="text-xs text-white/60">Toggle the services you want in the bundle. Then configure add‑ons for each.</p>
              </div>
              <div class="inline-flex rounded-lg bg-white/10 p-1">
                <button @click="setPlan('oneTime')" :class="plan==='oneTime' ? 'bg-white text-slate-900' : 'text-white/80'" class="px-3 py-1 rounded-md text-sm font-semibold">One‑time</button>
                <button @click="setPlan('monthly')" :class="plan==='monthly' ? 'bg-white text-slate-900' : 'text-white/80'" class="px-3 py-1 rounded-md text-sm font-semibold">Monthly</button>
              </div>
            </div>
            <div class="mt-3 grid grid-cols-2 sm:grid-cols-4 gap-2">
              <template x-for="key in order" :key="'include-'+key">
                <button @click="toggleActive(key)" :class="isActive(key)?'bg-white text-slate-900 ring-0':'bg-white/0 text-white/80 hover:bg-white/10'" class="rounded-xl px-3 py-2 font-semibold ring-1 ring-white/15 flex items-center justify-center gap-2">
                  <span class="h-2.5 w-2.5 rounded-full" :class="isActive(key)?'bg-emerald-500':'bg-white/30'"></span>
                  <span x-text="services[key].short"></span>
                </button>
              </template>
            </div>

            <!-- Quick Presets -->
            <div class="mt-4">
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs text-white/60">Quick presets (curated, non‑random)</span>
                <button class="text-[11px] underline decoration-dotted" @click="clearPreset()" x-show="activePreset">Clear preset</button>
              </div>
              <div class="flex gap-2 overflow-x-auto pb-1">
                <template x-for="p in Object.keys(presets)" :key="'preset-'+p">
                  <button @click="applyPreset(p)" :class="activePreset===p?'bg-white text-slate-900':'bg-white/0 text-white/80 hover:bg-white/10'" class="whitespace-nowrap rounded-xl px-3 py-2 ring-1 ring-white/15 text-sm font-semibold">
                    <span x-text="p"></span>
                    <span class="ml-2 text-[10px] uppercase tracking-wide rounded bg-white/10 ring-1 ring-white/15 px-1.5 py-0.5" x-text="presets[p].plan==='oneTime'?'one‑time':'monthly'"></span>
                  </button>
                </template>
              </div>
            </div>
          </div>

          <!-- Service Tabs (focus which to edit) + Base Details for focused service -->
          <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6">
            <div class="flex items-center justify-between gap-4 flex-wrap">
              <div class="grid grid-cols-4 gap-2 flex-1 min-w-[260px]">
                <template x-for="key in order" :key="'tab-'+key">
                  <button @click="setService(key)" :disabled="!isActive(key)" :class="serviceKey===key ? 'bg-white text-slate-900' : (isActive(key)?'bg-white/0 text-white/80 hover:bg-white/10':'bg-white/5 text-white/30 cursor-not-allowed')" class="rounded-xl px-3 py-2 font-semibold flex items-center justify-center gap-2">
                    <span x-text="services[key].short"></span>
                  </button>
                </template>
              </div>
              <div class="text-right text-sm text-white/70 min-w-[220px]">
                <div x-show="plan==='oneTime'">Base (<span x-text="services[serviceKey].short"></span>): <span class="font-semibold" x-text="formatPrice(basePriceFor(serviceKey))"></span> • <span class="font-medium" x-text="services[serviceKey].oneTime.duration"></span></div>
                <div x-show="plan==='monthly'">Base (<span x-text="services[serviceKey].short"></span>): <span class="font-semibold" x-text="formatPrice(basePriceFor(serviceKey))"></span> • 3‑month minimum</div>
                <div class="text-xs text-white/50 mt-1">Editing add‑ons for <span class="font-semibold" x-text="services[serviceKey].name"></span></div>
              </div>
            </div>
            <ul class="mt-4 grid sm:grid-cols-2 gap-y-2 text-sm text-white/80 list-disc list-inside">
              <template x-for="item in baseIncludesFor(serviceKey)" :key="'inc-'+item"><li x-text="item"></li></template>
            </ul>
          </div>

          <!-- Add‑ons: Controls + Chips + Grid (for focused service) -->
          <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6">
            <div class="flex flex-wrap items-center justify-between gap-3">
              <div>
                <h3 class="font-semibold">Add‑ons for <span x-text="services[serviceKey].short"></span></h3>
                <p class="mt-1 text-xs text-white/60">Tap cards to add/remove. Use Quick Picks for a best‑practice setup.</p>
              </div>
              <div class="hidden sm:flex items-center gap-2">
                <button @click="selectBundle('essentials')" class="text-xs rounded-lg px-3 py-1 ring-1 ring-white/15 hover:bg-white/10">Essentials</button>
                <button @click="selectBundle('premium')" class="text-xs rounded-lg px-3 py-1 ring-1 ring-white/15 hover:bg-white/10">Premium</button>
                <button @click="selectedByService[serviceKey]=[]; selectedAddons=selectedByService[serviceKey].slice()" class="text-xs rounded-lg px-3 py-1 ring-1 ring-white/15 hover:bg-white/10">Clear</button>
              </div>
            </div>

            <div class="mt-3 flex flex-wrap items-center gap-2">
              <div class="relative flex-1 min-w-[220px]">
                <input x-model.trim="query" placeholder="Search add‑ons (e.g., SEO, drone, captions)" class="w-full rounded-xl bg-slate-900/50 ring-1 ring-white/15 px-3 py-2 text-sm placeholder:text-white/40" />
                <span class="pointer-events-none absolute right-3 top-2.5 text-white/40">
                  <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="11" cy="11" r="7"/><path d="M21 21l-3-3"/></svg>
                </span>
              </div>
              <div class="flex items-center gap-2 text-[11px]">
                <label class="inline-flex items-center gap-2 px-2 py-1 rounded-lg ring-1 ring-white/15 hover:bg-white/10">
                  <input type="checkbox" x-model="recommendedFirst">
                  <span>Show recommended first</span>
                </label>
                <div class="relative">
                  <select x-model="sortBy" class="rounded-lg bg-slate-900/50 ring-1 ring-white/15 px-2 py-1 text-[11px]">
                    <option value="popular">Sort: Popular</option>
                    <option value="price-asc">Sort: Price ↑</option>
                    <option value="price-desc">Sort: Price ↓</option>
                    <option value="alpha">Sort: A–Z</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Selected chips -->
            <div x-show="selectedAddonsDetailed.length" class="mt-4 flex flex-wrap gap-2">
              <template x-for="ad in selectedAddonsDetailed" :key="'chip-'+ad.id">
                <button @click="toggleAddon(ad.id)" class="group inline-flex items-center gap-2 rounded-full bg-white/10 ring-1 ring-white/15 pl-3 pr-2 py-1 text-xs hover:bg-white/20">
                  <span x-text="ad.label"></span>
                  <span class="rounded-full grid place-items-center h-5 w-5 bg-white/20 group-hover:bg-white/30">
                    <svg class="h-3 w-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 6l12 12M6 18L18 6"/></svg>
                  </span>
                </button>
              </template>
              <span class="text-xs text-white/50">(<span x-text="selectedAddons.length"></span> selected)</span>
            </div>

            <!-- Add‑on cards -->
            <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[32rem] overflow-auto pr-1">
              <template x-for="ad in visibleAddons" :key="ad.id">
                <button type="button" role="switch" :aria-checked="isSelected(ad.id)" @click="toggleAddon(ad.id)" :aria-pressed="isSelected(ad.id)" class="group text-left rounded-xl p-4 ring-1 ring-white/10 bg-white/5 hover:bg-white/10 hover:ring-white/20 transition relative">
                  <input type="checkbox" class="sr-only" :value="ad.id" x-model="selectedAddons">
                  <div class="flex items-start gap-3">
                    <div class="mt-0.5 h-9 w-9 rounded-lg grid place-items-center ring-1 ring-white/15" :class="isSelected(ad.id) ? 'bg-blue-500 text-white ring-0' : 'bg-slate-900/40'" x-html="addonIcon(ad.id)"></div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2">
                        <span class="font-medium" x-text="ad.label"></span>
                        <span x-show="recommendedIds.includes(ad.id)" class="text-[10px] uppercase tracking-wide rounded bg-white/10 ring-1 ring-white/15 px-2 py-0.5">Popular</span>
                      </div>
                      <div class="text-sm text-white/60" x-text="ad.desc"></div>
                    </div>
                    <div class="ml-auto text-sm font-semibold" x-text="formatPrice(ad.price)"></div>
                  </div>
                </button>
              </template>
            </div>
            <div class="mt-3 text-xs text-white/60 flex items-center justify-between">
              <div>Tip: Start with <span class="font-semibold">Essentials</span> for quick wins. Use <span class="font-semibold">Premium</span> for maximum impact.</div>
              <button class="text-xs underline decoration-dotted" @click="if(selectedAddons.length){ selectedAddons.pop(); selectedByService[serviceKey]=selectedAddons.slice(); }">Undo last</button>
            </div>
          </div>
        </div>

        <!-- Right: Live Summary (ALL selected services) -->
        <aside class="lg:col-span-1">
          <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6 sticky top-24">
            <div class="flex items-start justify-between gap-4">
              <div>
                <div class="text-xs text-white/60">Your bundle</div>
                <h3 class="text-xl font-extrabold">(<span x-text="activeServices.length"></span>) services — <span x-text="plan==='oneTime'?'One‑time':'Monthly'"></span></h3>
              </div>
              <div class="text-right">
                <div class="text-xs text-white/60">Estimated total</div>
                <div class="text-3xl font-black" x-text="formatPrice(total)"></div>
                <div class="text-xs text-white/60" x-show="plan==='monthly'">per month</div>
              </div>
            </div>
            <hr class="my-4 border-white/10">
            <div class="space-y-4">
              <template x-for="key in activeServices" :key="'sum-'+key">
                <div class="rounded-xl bg-white/5 ring-1 ring-white/10 p-4">
                  <div class="flex items-start justify-between gap-3">
                    <div>
                      <div class="text-sm font-semibold" x-text="services[key].name"></div>
                      <div class="text-[11px] text-white/60" x-show="plan==='oneTime'" x-text="services[key].oneTime.duration"></div>
                      <div class="text-[11px] text-white/60" x-show="plan==='monthly'">3‑month minimum</div>
                    </div>
                    <div class="text-sm font-semibold" x-text="formatPrice(basePriceFor(key))"></div>
                  </div>
                  <template x-for="ad in selectedAddonsDetailedFor(key)" :key="'sumad-'+key+'-'+ad.id">
                    <div class="mt-2 flex items-start justify-between gap-3">
                      <div class="text-sm">+ <span class="font-medium" x-text="ad.label"></span> <span class="text-white/60" x-text="'— '+ad.desc"></span></div>
                      <div class="text-sm font-semibold" x-text="formatPrice(ad.price)"></div>
                    </div>
                  </template>
                  <!-- Per-service notes input -->
                  <div class="mt-3">
                    <label class="text-[11px] text-white/60">Notes (optional)</label>
                    <textarea x-model.trim="serviceNotes[key]" rows="2" class="mt-1 w-full rounded-lg bg-white/5 ring-1 ring-white/10 px-3 py-2 text-xs placeholder:text-white/40" placeholder="Add timing, goals, links…"></textarea>
                  </div>
                  <div class="mt-3 flex items-center justify-between">
                    <button @click="setService(key)" class="text-xs underline decoration-dotted">Edit add‑ons</button>
                    <button @click="toggleActive(key)" class="text-xs rounded-md ring-1 ring-white/15 px-2 py-1 hover:bg-white/10">Remove</button>
                  </div>
                </div>
              </template>
              <div x-show="!activeServices.length" class="text-xs text-white/60">No services selected yet — pick one above to get started.</div>
            </div>
            <div class="mt-6 flex flex-col gap-3">
              <button @click="reviewOpen=true" :disabled="!activeServices.length" :class="!activeServices.length?'opacity-60 cursor-not-allowed':''" class="shine inline-flex items-center justify-center gap-2 rounded-xl bg-blue-500 text-white px-4 py-3 font-semibold shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition">
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 6h15l-1.5 9h-12z"/><circle cx="9" cy="20" r="1.5"/><circle cx="17" cy="20" r="1.5"/></svg>
                Review & Checkout
              </button>
              <a href="#contact" class="inline-flex items-center justify-center gap-2 rounded-xl bg-white text-slate-900 px-4 py-3 font-semibold shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition">Request Formal Quote</a>
              <button @click="resetAll()" class="inline-flex items-center justify-center gap-2 rounded-xl ring-1 ring-white/20 px-4 py-3 font-semibold hover:bg-white/10 transition">Clear All</button>
              <div class="text-[11px] text-white/60 flex items-center gap-1"><span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span> Secure Stripe Checkout • Email support: <span class="underline">1coastmedia@gmail.com</span></div>
            </div>
          </div>
        </aside>

        <!-- Mobile sticky checkout bar (SAME state) -->
        <div class="md:hidden fixed bottom-4 left-1/2 -translate-x-1/2 z-40 w-[92%]">
          <div class="rounded-2xl bg-white text-slate-900 shadow-xl px-4 py-3 ring-1 ring-black/5 flex items-center justify-between">
            <div>
              <div class="text-xs text-slate-600">Estimated total</div>
              <div class="text-lg font-extrabold" x-text="formatPrice(total)"></div>
            </div>
            <button @click="reviewOpen=true" class="rounded-xl bg-slate-900 text-white px-4 py-2 font-semibold">Checkout</button>
          </div>
        </div>

        <!-- REVIEW & CHECKOUT MODAL (ALL services) -->
        <div x-show="reviewOpen" x-transition.opacity x-cloak class="fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4">
          <div @click="reviewOpen=false" class="absolute inset-0 bg-black/60"></div>
          <div class="relative w-full sm:max-w-2xl rounded-2xl bg-white text-slate-900 shadow-2xl ring-1 ring-black/10 max-h-[90vh] overflow-auto">
            <div class="p-6 border-b border-black/10 flex items-center justify-between">
              <h3 class="text-lg font-bold">Review your bundle</h3>
              <button @click="reviewOpen=false" class="h-9 w-9 grid place-items-center rounded-md hover:bg-black/5">
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M6 6l12 12M6 18L18 6"/></svg>
              </button>
            </div>
            <div class="p-6 grid gap-6">
              <div class="rounded-xl bg-slate-50 ring-1 ring-black/10 p-4">
                <div class="text-xs text-slate-600">Plan</div>
                <div class="mt-1 font-semibold" x-text="plan==='oneTime'?'One‑time':'Monthly (3‑month min)'"></div>
                <template x-for="key in activeServices" :key="'modal-'+key">
                  <div class="mt-4 rounded-lg bg-white ring-1 ring-black/10 p-4">
                    <div class="flex items-start justify-between gap-3">
                      <div class="font-semibold" x-text="services[key].name"></div>
                      <div class="font-semibold" x-text="formatPrice(basePriceFor(key))"></div>
                    </div>
                    <ul class="mt-2 text-sm text-slate-700 space-y-1">
                      <template x-for="ad in selectedAddonsDetailedFor(key)" :key="'mad-'+key+'-'+ad.id">
                        <li class="flex items-start justify-between gap-3"><span>+ <span class="font-medium" x-text="ad.label"></span> <span class="text-slate-500" x-text="'— '+ad.desc"></span></span><span class="font-semibold" x-text="formatPrice(ad.price)"></span></li>
                      </template>
                      <li x-show="!selectedAddonsDetailedFor(key).length" class="text-slate-500">No add‑ons selected</li>
                    </ul>
                    <div x-show="serviceNotes[key]" class="mt-2 text-xs text-slate-600"><span class="font-medium">Notes:</span> <span x-text="serviceNotes[key]"></span></div>
                  </div>
                </template>
                <div class="mt-3 flex items-center justify-between border-t border-black/10 pt-3">
                  <div class="text-sm text-slate-600">Estimated total <span x-show="plan==='monthly'">(per month)</span></div>
                  <div class="text-lg font-extrabold" x-text="formatPrice(total)"></div>
                </div>
              </div>

              <div class="grid sm:grid-cols-2 gap-4">
                <div>
                  <label class="text-sm text-slate-700">Full name</label>
                  <input x-model.trim="customer.name" class="mt-1 w-full rounded-lg ring-1 ring-black/10 px-3 py-2" placeholder="Jane Doe" />
                </div>
                <div>
                  <label class="text-sm text-slate-700">Company</label>
                  <input x-model.trim="customer.company" class="mt-1 w-full rounded-lg ring-1 ring-black/10 px-3 py-2" placeholder="Acme Co." />
                </div>
                <div>
                  <label class="text-sm text-slate-700">Email (optional)</label>
                  <input x-model.trim="customer.email" type="email" class="mt-1 w-full rounded-lg ring-1 ring-black/10 px-3 py-2" placeholder="you@example.com" />
                </div>
                <div>
                  <label class="text-sm text-slate-700">Phone (optional)</label>
                  <input x-model.trim="customer.phone" class="mt-1 w-full rounded-lg ring-1 ring-black/10 px-3 py-2" placeholder="(555) 555‑5555" />
                </div>
                <div class="sm:col-span-2">
                  <label class="text-sm text-slate-700">Project notes</label>
                  <textarea x-model.trim="customer.notes" rows="3" class="mt-1 w-full rounded-lg ring-1 ring-black/10 px-3 py-2" placeholder="Goals, audience, examples, deadlines…"></textarea>
                </div>
              </div>

              <label class="flex items-start gap-3 text-sm"><input type="checkbox" x-model="accepted" class="mt-1"> <span>I agree to be contacted at the info provided. Payment is processed by Stripe on a secure page.</span></label>

              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                <div class="text-xs text-slate-500">Questions? Email <a class="underline" href="mailto:1coastmedia@gmail.com">1coastmedia@gmail.com</a> or <a class="underline" href="https://calendly.com/bdaniels013/30min" target="_blank" rel="noopener">book a call</a>.</div>
                <div class="flex gap-2">
                  <button @click="reviewOpen=false" class="rounded-lg ring-1 ring-black/10 px-4 py-2">Back</button>
                  <button @click="checkout()" class="rounded-lg bg-slate-900 text-white px-4 py-2 font-semibold">Continue to Stripe</button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- WHY MONTHLY? comparison -->
      <div class="mt-16 grid lg:grid-cols-2 gap-6">
        <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6">
          <h3 class="text-lg font-bold">One‑time: launch fast</h3>
          <ul class="mt-3 text-sm text-white/80 space-y-2 list-disc list-inside">
            <li>Immediate impact for launches or pilots</li>
            <li>Clear scope and timeline</li>
            <li>Great for testing ideas and one‑off events</li>
          </ul>
        </div>
        <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6">
          <h3 class="text-lg font-bold">Monthly: grow consistently</h3>
          <ul class="mt-3 text-sm text-white/80 space-y-2 list-disc list-inside">
            <li>Ongoing optimization and updates</li>
            <li>Priority scheduling + momentum</li>
            <li>Compounding results with creator flywheel</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- LOGOS STRIP (replace src with your logos) -->
  <section class="py-10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="text-center text-sm text-white/60 mb-4">Brands & partners work with 1 Coast Media</div>
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6 items-center opacity-80 [filter:grayscale(100%)] hover:[filter:grayscale(0%)] transition">
        <img src="/logos/logo1.svg" alt="Logo 1" class="h-10 mx-auto object-contain"/>
        <img src="/logos/logo2.svg" alt="Logo 2" class="h-10 mx-auto object-contain"/>
        <img src="/logos/logo3.svg" alt="Logo 3" class="h-10 mx-auto object-contain"/>
        <img src="/logos/logo4.svg" alt="Logo 4" class="h-10 mx-auto object-contain"/>
        <img src="/logos/logo5.svg" alt="Logo 5" class="h-10 mx-auto object-contain"/>
        <img src="/logos/logo6.svg" alt="Logo 6" class="h-10 mx-auto object-contain"/>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="notes" class="py-20">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-extrabold tracking-tight">How it works</h2>
      <div class="mt-6 grid gap-6 md:grid-cols-3">
        <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6"><div class="text-sm text-white/60">Step 1</div><h3 class="font-semibold">Pick a base</h3><p class="mt-2 text-sm text-white/80">Every package starts with a strong base for immediate value.</p></div>
        <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6"><div class="text-sm text-white/60">Step 2</div><h3 class="font-semibold">Customize</h3><p class="mt-2 text-sm text-white/80">Check add‑ons to fit your goals; total price updates instantly.</p></div>
        <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-6"><div class="text-sm text-white/60">Step 3</div><h3 class="font-semibold">Lock it in</h3><p class="mt-2 text-sm text-white/80">We’ll confirm scope, timeline, and deliverables and send a tailored quote.</p></div>
      </div>
    </div>
  </section>

  <!-- CONTACT + CALENDLY EMBED -->
  <section id="contact" class="py-20">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-10 items-start">
        <div>
          <h2 class="text-3xl font-extrabold tracking-tight">Ready to transform your brand?</h2>
          <p class="mt-3 text-white/80 max-w-prose">Contact <span class="font-semibold">1coastmedia@gmail.com</span> for a free consultation, personalized quotes, or to start your project today. Prefer to chat? Book a call below.</p>
          <div class="mt-6 space-y-3 text-sm">
            <a href="mailto:1coastmedia@gmail.com?subject=1%20Coast%20Media%20Inquiry" class="inline-flex items-center gap-2 rounded-xl bg-white text-slate-900 px-4 py-3 font-semibold shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition">Email Us</a>
            <a href="https://calendly.com/bdaniels013/30min" target="_blank" rel="noopener" class="inline-flex items-center gap-2 rounded-xl ring-1 ring-white/20 px-4 py-3 font-semibold hover:bg-white/10 transition">Open Calendly</a>
          </div>
        </div>
        <div class="rounded-2xl ring-1 ring-white/10 bg-white/5 p-2">
          <div class="calendly-inline-widget" data-url="https://calendly.com/bdaniels013/30min" style="min-width:320px;height:660px;"></div>
        </div>
      </div>
    </div>
  </section>

  <footer class="py-10 border-t border-white/10 text-center text-xs text-white/60"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">© <span id="year"></span> 1 Coast Media • Mississippi Gulf Coast • All rights reserved.</div></footer>

  <script src="https://js.stripe.com/v3/"></script>
  <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    function pricing(){
      return {
        // ORDER of services
        order: ['web','video','events','ugc'],

        // STATE
        plan: 'oneTime',
        serviceKey: 'web', // focused editor
        activeServices: ['web'], // can hold multiple
        query: '',
        selectedAddons: [], // for focused service (mirrors selectedByService[serviceKey])
        selectedByService: { web: [], video: [], events: [], ugc: [] },
        serviceNotes: { web:'', video:'', events:'', ugc:'' },
        reviewOpen: false,
        accepted: true,
        customer: { name:'', company:'', email:'', phone:'', notes:'' },
        sortBy: 'popular',
        recommendedFirst: true,
        activePreset: '',

        // DATA
        services: {
          web: { short:'Web', name: 'Web & App Development', oneTime: { base: 300, duration: '3–7 days', includes: ['Initial consultation & project setup','Basic responsive landing page','Wireframed UI/UX','Light copy edits'] }, addons: [
            {id:'web-mvp', label:'Basic App Prototype (MVP)', price:500, desc:'iOS/Android prototype (chatbots or simple tools)'},
            {id:'web-seo', label:'SEO Setup', price:150, desc:'Keyword research & on‑page optimization'},
            {id:'web-auto', label:'Automations', price:100, desc:'Email, leads, or social workflows'},
            {id:'web-api', label:'API Integrations', price:250, desc:'Payments, maps, analytics'},
            {id:'web-shop', label:'Custom E‑commerce Features', price:300, desc:'Basic shop setup'}
          ]},
          video: { short:'Video', name: 'Video & Audio Production', oneTime: { base: 600, duration: '7–14 days', includes: ['Consultation & project setup','1–2 minute basic video (music, commercial, or reels)','Simple shoot & edit with cuts/effects/voiceover','Coastal/local vibe where applicable'] }, addons: [
            {id:'vid-audio', label:'Audio Production', price:200, desc:'Noise reduction, subtitles, advanced mixing'},
            {id:'vid-adv', label:'Advanced Video Upgrade', price:800, desc:'Extended length, complex edits, multi‑scene'},
            {id:'vid-drone-p', label:'Drone Shoots — Personal', price:300, desc:'Dynamic footage with basic drone'},
            {id:'vid-drone-pro', label:'Drone Shoots — Professional', price:1500, desc:'High‑end footage with certified operator'},
            {id:'vid-edit', label:'Extended Editing', price:300, desc:'Series setup or additional polishes'}
          ]},
          events: { short:'Events', name: 'Event Planning & Coordination', oneTime: { base: 1000, duration: 'Plan 2–6 weeks; event‑day support', includes: ['Initial consultation','Basic coordination for small events','Venue scouting & simple timelines','Day‑of support'] }, addons: [
            {id:'ev-ven', label:'Venue & Vendor Coordination', price:500, desc:'Full timelines, logistics handled expertly'},
            {id:'ev-digital', label:'Digital Event Pages', price:200, desc:'RSVPs, invites, lightweight attendee app'},
            {id:'ev-media', label:'Media Coverage', price:300, desc:'Videographers/photographers for clips'},
            {id:'ev-auto', label:'Automations', price:150, desc:'Reminders & predictions for smooth flow'},
            {id:'ev-hybrid', label:'Hybrid/Virtual Setup', price:400, desc:'Streaming for wider reach'}
          ]},
          ugc: { short:'UGC', name: 'UGC & Local Clipping Campaigns', oneTime: { base: 450, duration: '7–21 days', includes: ['Consultation & setup','30,000‑view campaign (1–2 platforms)','Post‑campaign view verification','Creator fit & compliance summary'] }, addons: [
            {id:'ugc-repurpose', label:'Repurposed Asset Pack', price:200, desc:'Adapt clips into ads, posts, or email graphics'},
            {id:'ugc-leads', label:'Lead Gen Integration', price:250, desc:'Simple funnel/landing page to capture contacts'},
            {id:'ugc-enhance', label:'Content Enhancement', price:150, desc:'Overlays, CTAs, or music to boost engagement'},
            {id:'ugc-captions', label:'Caption & Description Pack', price:100, desc:'Optimized captions/descriptions per clip'},
            {id:'ugc-brand', label:'Branded Customization Kit', price:150, desc:'Logos, watermarks, end‑slates across clips'}
          ]}
        },
        monthlyOverrides: {
          web: { base: 500, includes: ['Monthly consultation','Basic site/app maintenance (updates & bug fixes)'], addons: [
            {match:'web-seo', label:'Monthly SEO Boosts', price:150, desc:'Ongoing audits & content optimization'},
            {match:'web-auto', label:'Automation Expansions', price:100, desc:'New workflows & integrations as needed'},
            {match:'web-adv', label:'Advanced Features', price:200, desc:'Personalization, sentiment, predictive'},
            {match:'web-dash', label:'Custom Dashboards', price:250, desc:'Real‑time metrics for traffic & engagement'},
            {match:'web-mvp', label:'App Upgrades', price:500, desc:'Ongoing prototype enhancements'}
          ]},
          video: { base: 1200, includes: ['Monthly consultation','3 basic videos with enhancements'], addons: [
            {match:'vid-audio', label:'Audio Refresh', price:250, desc:'Ongoing mixing/subtitles for series'},
            {match:'vid-adv', label:'Advanced Video Series', price:1000, desc:'Extended or complex ongoing productions'},
            {match:'vid-drone-p', label:'Drone Shoots — Personal', price:300, desc:'Added to monthly videos'},
            {match:'vid-drone-pro', label:'Drone Shoots — Professional', price:1500, desc:'High‑end additions'},
            {match:'vid-edit', label:'Custom Production', price:500, desc:'Multi‑clip or specialized effects'}
          ]},
          events: { base: 1200, includes: ['Monthly consultation','Coordination for recurring small events (basic logistics)'], addons: [
            {match:'ev-ven', label:'Ongoing Coordination', price:600, desc:'Multiple events/month, full logistics'},
            {match:'ev-digital', label:'Digital Upkeep', price:200, desc:'Event sites/apps & automated invites'},
            {match:'ev-media', label:'Media Integration', price:300, desc:'Consistent video/photo coverage'},
            {match:'ev-auto', label:'Enhancements', price:150, desc:'Attendee analytics & personalization'},
            {match:'ev-hybrid', label:'Scalable Support', price:400, desc:'Hybrid add‑ons for larger scope'}
          ]},
          ugc: { base: 600, includes: ['Monthly consultation','Recurring 30,000‑view campaigns (1–2 platforms) + monthly report'], addons: [
            {match:'ugc-repurpose', label:'Repurposed Asset Pack', price:200, desc:'Monthly adaptations into ads/posts/emails'},
            {match:'ugc-leads', label:'Lead Gen Integration', price:250, desc:'Monthly funnel optimizations'},
            {match:'ugc-enhance', label:'Content Enhancement', price:150, desc:'Ongoing overlays/CTAs/music'},
            {match:'ugc-captions', label:'Caption & Description Pack', price:100, desc:'Monthly optimizations for discoverability'},
            {match:'ugc-brand', label:'Branded Customization Kit', price:150, desc:'Logos/watermarks/end‑slates each month'}
          ]}
        },

        // PRESETS (curated, not random)
        presets: {
          'Launch Kit': { plan:'oneTime', services: { web:'essentials', video:'essentials', events:'essentials' } },
          'Local Biz Starter': { plan:'oneTime', services: { web:'essentials', ugc:'essentials' } },
          'Event Spotlight': { plan:'oneTime', services: { events:'premium', video:'essentials' } },
          'Creator Engine': { plan:'monthly', services: { video:'premium', ugc:'premium' } },
          'Growth Retainer': { plan:'monthly', services: { web:'premium', video:'premium', ugc:'premium', events:'essentials' } }
        },

        // COMPUTEDS
        addonsListFor(key){
          return this.plan==='oneTime'
            ? this.services[key].addons
            : this.monthlyOverrides[key].addons.map(ov=>({id:ov.match,label:ov.label,price:ov.price,desc:ov.desc}));
        },
        basePriceFor(key){ return this.plan==='oneTime' ? this.services[key].oneTime.base : this.monthlyOverrides[key].base; },
        baseIncludesFor(key){ return this.plan==='oneTime' ? this.services[key].oneTime.includes : this.monthlyOverrides[key].includes; },

        get currentAddons(){ return this.addonsListFor(this.serviceKey); }, // one‑time & monthly supported
        get selectedAddonsDetailed(){ const idx=Object.fromEntries(this.currentAddons.map(a=>[a.id,a])); return (this.selectedByService[this.serviceKey]||[]).map(id=>idx[id]).filter(Boolean); },
        selectedAddonsDetailedFor(key){ const list=this.addonsListFor(key); const idx=Object.fromEntries(list.map(a=>[a.id,a])); return (this.selectedByService[key]||[]).map(id=>idx[id]).filter(Boolean); },

        get total(){
          return this.activeServices.reduce((sum,key)=>{
            const addons = this.selectedAddonsDetailedFor(key);
            const addonsSum = addons.reduce((s,a)=>s+(a?.price||0),0);
            return sum + this.basePriceFor(key) + addonsSum;
          },0);
        },

        get filteredAddons(){ const q=this.query.toLowerCase().trim(); if(!q) return this.currentAddons; return this.currentAddons.filter(a=>a.label.toLowerCase().includes(q)||a.desc.toLowerCase().includes(q)); },
        get visibleAddons(){
          let items = this.filteredAddons.slice();
          if(this.recommendedFirst && this.recommendedIds?.length){ const set=new Set(this.recommendedIds); items.sort((a,b)=> (set.has(a.id)?-1:0) - (set.has(b.id)?-1:0)); }
          if(this.sortBy==='price-asc') items.sort((a,b)=>a.price-b.price);
          else if(this.sortBy==='price-desc') items.sort((a,b)=>b.price-a.price);
          else if(this.sortBy==='alpha') items.sort((a,b)=>a.label.localeCompare(b.label));
          return items;
        },

        // METHODS
        isActive(key){ return this.activeServices.includes(key); },
        toggleActive(key){ const i=this.activeServices.indexOf(key); if(i>-1){ this.activeServices.splice(i,1); } else { this.activeServices.push(key); this.setService(key); } this.activePreset=''; },
        toggleAddon(id){ const list=this.selectedByService[this.serviceKey]||[]; const i=list.indexOf(id); if(i>-1) list.splice(i,1); else list.push(id); this.selectedByService[this.serviceKey]=list; this.selectedAddons=list.slice(); this.activePreset=''; },
        reset(){ this.selectedByService[this.serviceKey]=[]; this.selectedAddons=[]; this.recommendedIds=this.getBundle('essentials'); this.query=''; this.activePreset=''; },
        resetAll(){ this.activeServices=['web']; this.serviceKey='web'; this.selectedByService={ web: [], video: [], events: [], ugc: [] }; this.selectedAddons=[]; this.recommendedIds=this.getBundle('essentials'); this.query=''; this.activePreset=''; this.serviceNotes={ web:'', video:'', events:'', ugc:'' }; },
        init(){ this.selectedAddons=this.selectedByService[this.serviceKey]||[]; this.recommendedIds=this.getBundle('essentials'); },
        formatPrice(v){ return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:0}).format(v); },
        isSelected(id){ return (this.selectedByService[this.serviceKey]||[]).includes(id); },
        recommendedIds: [],
        selectBundle(kind){ const ids = this.getBundle(kind); const valid=this.currentAddons.map(a=>a.id); this.selectedByService[this.serviceKey]=ids.filter(id=>valid.includes(id)); this.selectedAddons=this.selectedByService[this.serviceKey].slice(); },
        getBundle(kind){ const map = {
            web: { oneTime: { essentials:['web-seo','web-auto'], premium:['web-mvp','web-api','web-shop'] }, monthly: { essentials:['web-seo','web-auto'], premium:['web-adv','web-dash','web-mvp'] } },
            video: { oneTime: { essentials:['vid-audio','vid-edit'], premium:['vid-adv','vid-drone-p'] }, monthly: { essentials:['vid-audio','vid-edit'], premium:['vid-adv','vid-drone-pro'] } },
            events: { oneTime: { essentials:['ev-digital','ev-media'], premium:['ev-ven','ev-hybrid'] }, monthly: { essentials:['ev-digital','ev-media'], premium:['ev-ven','ev-hybrid'] } },
            ugc: { oneTime: { essentials:['ugc-captions','ugc-enhance'], premium:['ugc-repurpose','ugc-leads'] }, monthly: { essentials:['ugc-captions','ugc-enhance'], premium:['ugc-repurpose','ugc-leads'] } }
          }; const bundle = map[this.serviceKey]?.[this.plan]?.[kind] || []; this.recommendedIds = bundle; return bundle; },
        setPlan(newPlan){ if(this.plan===newPlan) return; this.plan=newPlan; // filter selections per service to valid ids in new plan
          for(const key of this.order){ const valid=new Set(this.addonsListFor(key).map(a=>a.id)); this.selectedByService[key]=(this.selectedByService[key]||[]).filter(id=>valid.has(id)); }
          this.selectedAddons=this.selectedByService[this.serviceKey].slice(); this.recommendedIds=this.getBundle('essentials'); this.activePreset=''; },
        setService(key){ this.serviceKey = key; this.selectedAddons=(this.selectedByService[key]||[]).slice(); this.recommendedIds=this.getBundle('essentials'); },
        addonIcon(id){
          const simple = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M7 7h10v10H7z"/></svg>';
          const map = {
            'web-mvp':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 6h16v12H4z"/><path d="M4 10h16"/></svg>',
            'web-seo':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="11" cy="11" r="7"/><path d="M21 21l-3-3"/></svg>',
            'web-auto':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 12h16"/><path d="M12 4v16"/></svg>',
            'web-api':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="6" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="18" cy="12" r="2"/></svg>',
            'web-shop':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M6 7h12l-1 10H7z"/><path d="M7 7l2-3h6l2 3"/></svg>',
            'web-adv':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 12h16"/><path d="M12 4v16"/></svg>',
            'web-dash':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 6h16"/><path d="M4 12h10"/><path d="M4 18h7"/></svg>',
            'vid-audio':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 10v4a4 4 0 004 4h8"/><path d="M12 6v7"/></svg>',
            'vid-adv':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="3" y="7" width="14" height="10" rx="2"/><path d="M17 12l4-2v4z"/></svg>',
            'vid-drone-p':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="12" cy="12" r="3"/><path d="M3 12h6M15 12h6M12 3v6M12 15v6"/></svg>',
            'vid-drone-pro':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 7h6l3 3 3-3h6M3 17h6l3-3 3 3h6"/></svg>',
            'vid-edit':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 17l6-6 3 3 7-7"/></svg>',
            'ev-ven':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 7h18v10H3z"/><path d="M7 7V3M17 7V3"/></svg>',
            'ev-digital':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="4" y="6" width="16" height="12" rx="2"/></svg>',
            'ev-media':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 17l4-4 4 4 4-4 4 4"/></svg>',
            'ev-auto':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 12h16"/><path d="M12 4v16"/></svg>',
            'ev-hybrid':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="8" cy="8" r="3"/><circle cx="16" cy="16" r="3"/></svg>',
            'ugc-repurpose':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 6v12"/><path d="M6 12h12"/></svg>',
            'ugc-leads':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M4 6h16v12H4z"/><path d="M8 10h8M8 14h6"/></svg>',
            'ugc-enhance':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 2v20"/><path d="M2 12h20"/></svg>',
            'ugc-captions':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="4" y="7" width="16" height="10" rx="2"/><path d="M7 12h5M7 15h7"/></svg>',
            'ugc-brand':'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="12" cy="12" r="4"/></svg>'
          };
          return map[id] || simple;
        },

        // PRESET APPLIER
        applyPreset(name){
          const p = this.presets[name]; if(!p) return;
          this.setPlan(p.plan);
          this.activeServices = Object.keys(p.services);
          // seed selections for each service based on bundle kind
          for(const key of this.activeServices){
            const kind = p.services[key];
            // temporarily focus to reuse selectBundle logic
            const prev = this.serviceKey; this.serviceKey = key; this.selectBundle(kind); this.serviceKey = prev;
          }
          // focus first active service
          this.serviceKey = this.activeServices[0] || 'web';
          this.activePreset = name;
        },
        clearPreset(){ this.activePreset=''; },

        // STRIPE CHECKOUT (opens from review modal)
        async checkout(){
          try{
            if(!this.accepted){ alert('Please accept the notice before continuing.'); return; }
            if(!this.activeServices.length){ alert('Please select at least one service.'); return; }
            const cart = this.activeServices.map(key=>({ serviceKey:key, plan:this.plan, addons:(this.selectedByService[key]||[]), notes: (this.serviceNotes[key]||'').slice(0,500) }));
            const payload = { cart, customer: this.customer };
            const res = await fetch('/api/checkout', { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify(payload) });
            if(!res.ok){ const t = await res.text(); throw new Error(t || 'Failed to create checkout session'); }
            const { id } = await res.json();
            const stripe = Stripe('pk_live_51O4Qh0KoF1Q8iKteAbGsSkEj65fg0tSGOG6dcJCcLyvz0PHC5y8jEAkMDfDFfCTdEeRyPcOtZ7O13MBNZkDhBMR900NqzTN4LN');
            const { error } = await stripe.redirectToCheckout({ sessionId: id });
            if(error){ alert(error.message); }
          } catch(e){ console.error(e); alert('Checkout could not start. Email 1coastmedia@gmail.com for help.'); }
        }
      }
    }
  </script>

  <!-- Runtime tests (console) -->
  <script>
    (function runPricingTests(){
      try{
        const p = pricing(); p.init();
        const results = [];
        // T1: default one-time web base
        results.push({name:'T1 one-time base total', pass: p.total === 300, got:p.total, expect:300});
        // T2: add-ons sum (one-time)
        p.toggleAddon('web-seo'); p.toggleAddon('web-auto');
        results.push({name:'T2 addons sum', pass: p.total === 300+150+100, got:p.total, expect:550});
        // T3: monthly ugc + captions
        p.setPlan('monthly'); p.setService('ugc'); p.toggleActive('ugc'); p.toggleAddon('ugc-captions');
        results.push({name:'T3 monthly ugc total', pass: p.total === (500 /*web base monthly*/ + 600 /*ugc base monthly*/ + 100 /*ugc captions*/ ), got:p.total});
        // T4: plan switch filters invalid ids but keeps overlap
        p.setService('web'); p.setPlan('oneTime'); p.selectBundle('essentials'); // web-seo+web-auto
        const before = p.selectedByService.web.slice();
        p.setPlan('monthly');
        results.push({name:'T4 preserve on plan switch', pass: before.every(id=>p.selectedByService.web.includes(id))});
        // T5: multi-service total (web one-time + video one-time)
        p.setPlan('oneTime'); p.resetAll();
        p.toggleActive('video'); // now web+video
        const expected = 300 + 600; // bases only
        results.push({name:'T5 multi-service bases', pass: p.total === expected, got:p.total, expect:expected});
        // T6: preset Launch Kit
        p.applyPreset('Launch Kit');
        results.push({name:'T6 preset plan', pass: p.plan==='oneTime'});
        results.push({name:'T6 services count', pass: p.activeServices.length===3, got:p.activeServices.slice()});
        // T7: per-service notes included in cart
        p.serviceNotes.web='Note A'; p.serviceNotes.video='Note B';
        const cart = p.activeServices.map(key=>({ serviceKey:key, plan:p.plan, addons:(p.selectedByService[key]||[]), notes:(p.serviceNotes[key]||'').slice(0,500) }));
        const hasNotes = cart.some(c=>c.serviceKey==='web' && c.notes==='Note A') && cart.some(c=>c.serviceKey==='video' && c.notes==='Note B');
        results.push({name:'T7 notes in cart', pass: hasNotes});

        const failed = results.filter(r=>!r.pass);
        if(failed.length){ console.error('Pricing tests failed:', failed); }
        else { console.log('Pricing tests passed'); }
      }catch(e){ console.error('Pricing test harness error:', e); }
    })();
  </script>

  <!--
  =====================
  SERVERLESS API (create /api/checkout)
  =====================
  IMPORTANT: Never expose your secret key in client-side code. Use an environment
  variable named STRIPE_SECRET_KEY with the value you provided (sk_live_...).

  --- Vercel: create file at /api/checkout.js ---
  const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);

  const PRICE_TABLE = {
    web: { oneTimeBase: 30000, monthlyBase: 50000, addons: { 'web-mvp':{ot:50000,mo:50000}, 'web-seo':{ot:15000,mo:15000}, 'web-auto':{ot:10000,mo:10000}, 'web-api':{ot:25000,mo:25000}, 'web-shop':{ot:30000,mo:30000}, 'web-adv':{ot:null,mo:20000}, 'web-dash':{ot:null,mo:25000} } },
    video:{ oneTimeBase: 60000, monthlyBase:120000, addons: { 'vid-audio':{ot:20000,mo:25000}, 'vid-adv':{ot:80000,mo:100000}, 'vid-drone-p':{ot:30000,mo:30000}, 'vid-drone-pro':{ot:150000,mo:150000}, 'vid-edit':{ot:30000,mo:50000} } },
    events:{ oneTimeBase:100000, monthlyBase:120000, addons: { 'ev-ven':{ot:50000,mo:60000}, 'ev-digital':{ot:20000,mo:20000}, 'ev-media':{ot:30000,mo:30000}, 'ev-auto':{ot:15000,mo:15000}, 'ev-hybrid':{ot:40000,mo:40000} } },
    ugc:  { oneTimeBase: 45000, monthlyBase: 60000, addons: { 'ugc-repurpose':{ot:20000,mo:20000}, 'ugc-leads':{ot:25000,mo:25000}, 'ugc-enhance':{ot:15000,mo:15000}, 'ugc-captions':{ot:10000,mo:10000}, 'ugc-brand':{ot:15000,mo:15000} } }
  };

  module.exports = async (req, res) => {
    try{
      if(req.method !== 'POST') return res.status(405).send('Method Not Allowed');
      const { cart, customer } = req.body || {};
      if(!Array.isArray(cart) || !cart.length) return res.status(400).send('Cart required');

      const line_items = [];
      for(const item of cart){
        const { serviceKey, plan, addons, notes } = item;
        if(!['web','video','events','ugc'].includes(serviceKey)) continue;
        if(!['oneTime','monthly'].includes(plan)) continue;
        const t = PRICE_TABLE[serviceKey];
        const isMonthly = plan==='monthly';
        // Base
        line_items.push({ price_data: { currency: 'usd', product_data: { name: `${serviceKey.toUpperCase()} — ${isMonthly?'Monthly':'One‑time'} Base`, description: notes?`Notes: ${notes}`:undefined, metadata:{service:serviceKey,type:'base',plan,notes:notes||''} }, unit_amount: isMonthly? t.monthlyBase : t.oneTimeBase, ...(isMonthly? {recurring:{interval:'month'}} : {}) }, quantity: 1 });
        // Add-ons
        for(const id of Array.isArray(addons)?addons:[]){
          const a=t.addons[id]; if(!a) continue; const amt=isMonthly? a.mo : a.ot; if(!amt) continue;
          line_items.push({ price_data: { currency: 'usd', product_data: { name: `Add‑on: ${id}`, description: notes?`Service notes: ${notes}`:undefined, metadata:{service:serviceKey,type:'addon',id,plan,notes:notes||''} }, unit_amount: amt, ...(isMonthly? {recurring:{interval:'month'}} : {}) }, quantity: 1 });
        }
      }

      if(!line_items.length) return res.status(400).send('No billable items');

      const session = await stripe.checkout.sessions.create({
        mode: cart.some(c=>c.plan==='monthly') ? 'subscription' : 'payment',
        line_items,
        success_url: `${req.headers.origin || 'https://yourdomain.com'}/#contact`,
        cancel_url: `${req.headers.origin || 'https://yourdomain.com'}/#pricing`,
        allow_promotion_codes: true,
        metadata: { cart: JSON.stringify(cart), ...(customer||{}) },
        customer_email: customer?.email || undefined
      });

      res.status(200).json({ id: session.id });
    }catch(err){
      console.error(err);
      res.status(500).send(err.message || 'Server error');
    }
  }

  --- Netlify: create /netlify/functions/checkout.js and export handler ---
  const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);
  exports.handler = async (event) => { /* same logic; return {statusCode:200, body: JSON.stringify({id: session.id})} */ };

  Set env var STRIPE_SECRET_KEY = sk_live_... in your hosting dashboard. Do NOT hardcode it.
  -->
</body>
</html>
